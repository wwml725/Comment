<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>å®ç°ç®€å•çš„ç»„ä»¶åŒ–3</title>
</head>
<body>
<div id="wrapper">

</div>
<script>
    /*
    * åˆ›å»ºä¸€ä¸ªå‡½æ•°createDOMFromString,ä¼ å…¥ä¸€ä¸ªhtmlå­—ç¬¦ä¸²ï¼Œä¼šæŠŠå¯¹åº”çš„DOMå…ƒç´ è¿”å›ç»™æˆ‘ä»¬ã€‚
    * */
    const createDOMFromString = (domString)=>{
        const div = document.createElement("div")
        div.innerHTML=domString;
        return div
    }
    //å¯¹ä¹‹å‰çš„domç»“æ„è¿›è¡Œæ›´æ”¹

    class LikeButton{
        constructor(){
            this.state={
                    isLiked : false
            }
        }
        changeClick(){
            const likeText = this.el.querySelector('.like-text');
            this.state.isLiked = !this.state.isLiked;
            likeText.innerHTML = this.state.isLiked?"å–æ¶ˆ":"ç‚¹èµ"

        }
        render(){
            this.el = createDOMFromString(
                `<button class='like-button'>
          <span class='like-text'>ç‚¹èµ</span>
          <span>ğŸ‘</span>
        </button>`
            );
//            this.el.addEventListener('click',()=>console.log('click'),false)
            this.el.addEventListener('click',this.changeClick.bind(this),false);
            return this.el
        }
    }
    /*
    * ç°åœ¨renderè¿”å›çš„ä¸æ˜¯ä¸€ä¸ªhtmlå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸€ä¸ªç”±è¿™ä¸ªhtmlå­—ç¬¦ä¸²ç”Ÿæˆçš„domç»“æ„ã€‚å†è¿”å›domå…ƒç´ ä¹‹å‰ç»™è¿™ä¸ªdomå…ƒç´ æ·»åŠ äº‹ä»¶å†è¿”å›ã€‚
    *
    * å› ä¸ºç°åœ¨renderè¿”å›çš„æ˜¯domå…ƒç´ ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨innerHTMLæš´åŠ›çš„æ’å…¥wrapperã€‚è€Œæ˜¯è¦ç”¨DOM APIæ’è¿›å»ã€‚
    * */



    const wrapper = document.querySelector("#wrapper");
    //1ã€
    const likeButton1 = new LikeButton();
    wrapper.appendChild(likeButton1.render())
    //2ã€
    const likeButton2 = new LikeButton();
    wrapper.appendChild(likeButton2.render())


    /*
    * ä»£ç åˆ†æï¼š
    * 1ã€ä»”ç»†ç•™æ„ä¸€ä¸‹ changeLikeText å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°åŒ…å«äº† DOM æ“ä½œï¼Œç°åœ¨çœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œé‚£æ˜¯å› ä¸ºç°åœ¨åªæœ‰ isLiked ä¸€ä¸ªçŠ¶æ€ã€‚ç”±äºæ•°æ®çŠ¶æ€æ”¹å˜ä¼šå¯¼è‡´éœ€è¦æˆ‘ä»¬å»æ›´æ–°é¡µé¢çš„å†…å®¹ï¼Œæ‰€ä»¥å‡æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ çš„ç»„ä»¶ä¾èµ–äº†å¾ˆå¤šçŠ¶æ€ï¼Œé‚£ä¹ˆä½ çš„ç»„ä»¶åŸºæœ¬å…¨éƒ¨éƒ½æ˜¯ DOM æ“ä½œã€‚
    *
    * 2ã€æ‰‹åŠ¨ç®¡ç†æ•°æ®å’Œdomæ“ä½œä¼šå¯¼è‡´ä»£ç å¯ç»´æŠ¤æ€§å˜å·®ï¼Œå®¹æ˜“å‡ºé”™ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä¾‹å­è¿˜å¯ä»¥ä¼˜åŒ–ï¼Œæ–¹æ³•å°±æ˜¯ï¼šå°½é‡å‡å°‘DOMæ“ä½œï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼
    *
    * */
</script>
</body>
</html>